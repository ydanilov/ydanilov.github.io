(self.webpackChunkrm_frontend=self.webpackChunkrm_frontend||[]).push([[16],{1469:function(e,t,o){"use strict";o.r(t);var r=o(354),s=o(321),n=o(312),a=o(1392),d=o(975),i=o(1378),c=o(1267),u=o(1470),l=o(1241),p=o(674);function h(e,t,o,r,s,n,a){try{var d=e[n](a),i=d.value}catch(e){return void o(e)}d.done?t(i):Promise.resolve(i).then(r,s)}var M,g,v=a.Z.extend({hideSidebar:function(){this.updatePropsModel&&this.updatePropsModel({selected:!1}),a.Z.prototype.hideSidebar.apply(this,arguments)},setupSettingsPanel:(M=regeneratorRuntime.mark((function e(){var t,o,a,h=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.cartWidgetModel=new d.Z(this.cartWidgetData),this.saveModelChanges_debounced=s.Z.debounce(this.saveModelChanges.bind(this),80),RM.constructorRouter&&RM.constructorRouter.mag&&!RM.constructorRouter.mag.get("_id")&&(RM.constructorRouter.isOwner=s.Z.isEmpty(RM.constructorRouter.previewMag.get("shared")),RM.constructorRouter.previewMag.edit_params=new i.Z(RM.constructorRouter.previewMag.get("edit_params"),RM.constructorRouter.previewMag),RM.constructorRouter.previewMag.unset("edit_params"),RM.constructorRouter.previewMag.filterUnusedFonts(),RM.constructorRouter.fonts=new c.ZP(RM.constructorRouter.previewMag.edit_params)),this.updatePropsModel=function(e){h.propsModel&&h.propsModel.set(e)},this.select=function(){h.updatePropsModel({selected:!0,faded:!1})},this.deselect=function(){h.updatePropsModel({selected:!1,faded:!1})},this.removeFade=function(){h.updatePropsModel({faded:!1})},this.propsModel=new Backbone.Model({block:{model:this.cartWidgetModel,saveModelChanges:this.saveModelChanges,saveModelChangesDebounced:this.saveModelChanges_debounced,eCommerceManager:this.mag.eCommerceManager},faded:!1,selected:this.selected||!1,disabled:this.disabled||!1,visible:!0,y:this.y,alt:this.alt,select:this.select,deselect:this.deselect,removeFade:this.removeFade,appearanceAnimation:!1,page:this.page,project:RM.constructorRouter.previewMag,user:RM.constructorRouter.previewMag.user,injectedRefs:{},workspace:null,controlsManager:null,useSharedState:function(){return{}},doesUserHaveAccess:!0}),this.onPropsModelChanged=function(){h.selected=h.propsModel.get("selected"),h.disabled=h.propsModel.get("disabled"),h.faded=h.propsModel.get("faded"),h.visible=h.propsModel.get("visible")},this.propsModel.on("change",this.onPropsModelChanged),t=(0,n.ZP)('<div id="sidebar-settings-panel-container" style="position: fixed; top: 0; right: 0; z-index: 4005; transition: 0.5s all ease-in-out, 0.3s transform ease;">').appendTo(document.body).get(0),o=function(){return r.createElement(p.CreateContextProvider,{context:l.b,model:h.propsModel},r.createElement(u.Z,{panelPortalElement:t}))},a=(0,n.ZP)("#cart-sidebar .sidebar-settings-container").get(0),(0,p.renderReact)({component:o,domElement:a,model:this.cartWidgetModel});case 14:case"end":return e.stop()}}),e,this)})),g=function(){var e=this,t=arguments;return new Promise((function(o,r){var s=M.apply(e,t);function n(e){h(s,o,r,n,a,"next",e)}function a(e){h(s,o,r,n,a,"throw",e)}n(void 0)}))},function(){return g.apply(this,arguments)})});t.default=v}}]);