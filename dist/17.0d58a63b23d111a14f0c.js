(self.webpackChunkrm_frontend=self.webpackChunkrm_frontend||[]).push([[17],{1473:function(e,t,n){"use strict";n.d(t,{Z:function(){return Ie}});var r=n(354),o=n(602),l=n(652),a=n(663),i=n(1173),c=n(1013),u=n(1019),s=n.n(u),f=n(1005),d=n.n(f),p=n(322),m=n(1057),b=n.n(m),y=n(1079),g=n(1260),h=n(1314),v=n(957),S=n(1052),x=n(1e3),w=n(1065),k=n.n(w),C=n(1012),E=n(1076),_=n(667),I=n(1074),j=n(1064);function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,l=void 0;try{for(var a,i=e[Symbol.iterator]();!(r=(a=i.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,l=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw l}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var B=function(e){var t=e.listContainer,n=e.option,o=e.isSelected,l=e.onSelect,a=e.onDeselect,i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0px 0px 0px 0px",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=O((0,r.useState)(!1),2),l=o[0],a=o[1],i=(0,r.useRef)(null);return(0,r.useEffect)((function(){var r=new IntersectionObserver((function(e){e[0].isIntersecting?(a(!0),!1===n&&r.disconnect()):n&&a(!1)}),{root:e,rootMargin:t});return(null==i?void 0:i.current)&&r.observe(i.current),function(){r&&r.disconnect()}}),[e,i.current]),[l,i]}(t,"150px 0px 150px 0px"),c=O(i,2),u=c[0],s=c[1],f=(0,r.useCallback)((function(e){e.stopPropagation(),o?a(n):l(n)}),[n.value,o]);return r.createElement(v.Box,{ref:s,width:"100%",height:"24px"},u&&r.createElement(M,{display:"flex",justifyContent:"space-between",alignItems:"center",py:"4px",pl:"6px",pr:"10px",cursor:"default","data-value":n.value,$_css:_.colors.black},r.createElement(P,{textStyle:"small",color:o?"black":"darkGray",title:n.caption},n.caption),r.createElement(T,{display:"flex",position:"relative",left:o?-2:0,cursor:"pointer",onClick:f,$_css2:o?_.colors.tomato:_.colors.black},o?r.createElement(j.default,{color:"gray"}):r.createElement(I.default,{color:"gray"}))))},M=(0,l.default)(v.Box).withConfig({displayName:"OptionRow___StyledBox",componentId:"sc-f32okj-0"})(["&:hover{& > span{color:",";}}"],(function(e){return e.$_css})),P=(0,l.default)(d()).withConfig({displayName:"OptionRow___StyledText",componentId:"sc-f32okj-1"})(["white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"]),T=(0,l.default)(v.Box).withConfig({displayName:"OptionRow___StyledBox2",componentId:"sc-f32okj-2"})(["&:hover{& > svg{color:",";}}"],(function(e){return e.$_css2})),F=function(e){var t=e.selectedOption,n=e.onDeselect;return r.createElement($,{display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"default",mt:24},r.createElement(N,{textStyle:"small",color:"black"},t.caption),r.createElement(s(),{display:"flex",variant:"clean",onClick:function(e){e.stopPropagation(),n(t)}},r.createElement(j.default,{color:"gray"})))},D=function(e){var t=e.selectedOptions,n=e.onDeselect;return r.createElement(v.Box,{py:"12px",pl:"8px",pr:"14px",bg:"white",borderRadius:"8px"},t.map((function(e){return r.createElement(F,{key:e.value,selectedOption:e,onDeselect:n})})))},$=(0,l.default)(v.Box).withConfig({displayName:"SelectedOptions___StyledBox",componentId:"sc-ij8uuu-0"})(["&:first-child{margin-top:0;}"]),N=(0,l.default)(d()).withConfig({displayName:"SelectedOptions___StyledText",componentId:"sc-ij8uuu-1"})(["white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"]);function Z(){return(Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G(e){return function(e){if(Array.isArray(e))return W(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||V(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,l=void 0;try{for(var a,i=e[Symbol.iterator]();!(r=(a=i.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,l=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw l}}return n}(e,t)||V(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){if(e){if("string"==typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?W(e,t):void 0}}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var H=function(e){var t=e.initialValue,n=void 0===t?[]:t,l=e.options,a=e.onChange,i=e.labelText,c=e.labelStyle,u=e.container,s=e.containerForSelected,f=e.width,d=e.height,p=e.onToggleDropDown,m=L((0,r.useState)(!1),2),b=m[0],y=m[1],g=L((0,r.useState)(null),2),h=g[0],S=g[1],w=L((0,r.useState)(null),2),I=w[0],j=w[1],O=(0,x.D)(h,I,{placement:"bottom"}),A=O.styles,M=O.attributes,P=O.update;(0,r.useEffect)((function(){b&&P&&P(),p&&p(b)}),[b]);var T=(0,C.default)({watchingClick:b,callback:function(){return b&&y(!1)}}),F=L((0,r.useState)(n),2),$=F[0],N=F[1],R=function(e){N((function(t){if(!Boolean($.find((function(t){return t.value===e.value})))){var n=G(t);return n.push(e),n}return t}))},z=function(e){N((function(t){var n=$.findIndex((function(t){return t.value===e.value}));if(n>-1){var r=G(t);return r.splice(n,1),r}return t}))};(0,r.useEffect)((function(){a&&a($)}),[$]);var V=r.createElement(v.Box,Z({ref:j,width:f||"calc(100% + 8px + 8px)",height:d||304,bg:"white",opacity:.98,borderRadius:"8px",border:"1px solid",borderColor:"lightGray",zIndex:102,style:U(U({},A.popper),{},{display:b?"block":"none"})},M.popper),r.createElement(k(),null,(function(e){var t=e.ref;return r.createElement(v.Box,{ref:t,width:"100%",px:"18px",mt:"-1px"},r.createElement(v.Box,{ref:T},b&&l.map((function(e){return r.createElement(B,{key:e.value,listContainer:I||void 0,option:e,onSelect:R,onDeselect:z,isSelected:Boolean($.find((function(t){return t.value===e.value})))})}))))})));return r.createElement(r.Fragment,null,$.length?s?o.createPortal(r.createElement(D,{selectedOptions:$,onDeselect:z}),s):r.createElement(D,{selectedOptions:$,onDeselect:z}):null,r.createElement(K,{ref:S,height:40,px:"16px",display:"flex",justifyContent:"space-between",alignItems:"center",position:"relative",cursor:"pointer",onClick:function(e){e.stopPropagation(),y(!b)},$_css:_.colors.black},r.createElement(Y,{display:"block",variant:"clean"},r.createElement(Q,{textStyle:"small",$_css2:c||""},i)),r.createElement(v.Box,{position:"relative",left:"-1px",top:"-2px"},r.createElement(X,{variant:"clean",onClick:function(e){e.stopPropagation(),y(!b)}},r.createElement(E.default,{color:"gray"})))),u?o.createPortal(V,u):V)},K=(0,l.default)(v.Box).withConfig({displayName:"MultiSelect___StyledBox",componentId:"sc-1xd0aoy-0"})(["&:hover{& svg{color:",";}}"],(function(e){return e.$_css})),Y=(0,l.default)(s()).withConfig({displayName:"MultiSelect___StyledButton",componentId:"sc-1xd0aoy-1"})(["line-height:1;"]),Q=(0,l.default)(d()).withConfig({displayName:"MultiSelect___StyledText",componentId:"sc-1xd0aoy-2"})(["display:block;",""],(function(e){return e.$_css2})),X=(0,l.default)(s()).withConfig({displayName:"MultiSelect___StyledButton2",componentId:"sc-1xd0aoy-3"})(["vertical-align:middle;"]),q=n(1025),J=n(1017);function ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,l=void 0;try{for(var a,i=e[Symbol.iterator]();!(r=(a=i.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,l=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw l}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return te(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ne=function(e){var t=e.value,n=void 0===t?"":t,o=e.placeholder,l=e.validate,a=e.onSubmit,i=e.width,c=e.height,u=e.m,f=ee((0,r.useState)(n),2),d=f[0],p=f[1],m=ee((0,r.useState)((function(){return!l||l(n)})),2),b=m[0],y=m[1],g=ee((0,r.useState)(!1),2),h=g[0],S=g[1],x=function(){b&&d!==n&&a(d)};return r.createElement(v.Box,{position:"relative",mx:2,borderTop:"1px solid",borderBottom:"1px solid",borderColor:"transparent"},r.createElement(re,{width:i||"100%",height:c||38,p:"0 36px 0 8px",m:u||0,border:"none !important",textStyle:"small",placeholder:o,onFocus:function(){S(!0)},onBlur:function(){S(!1)},value:d,onKeyUp:function(e){var t;"Enter"===e.key&&(null===(t=e.target)||void 0===t||t.blur(),x())},onChange:function(e){p(e.target.value.trim()),l&&y(l(e.target.value.trim()))},$_css:h||n&&b?_.colors.white:"transparent",$_css2:_.colors.black}),r.createElement(oe,{position:"absolute",top:"50%",right:0,mr:2},n&&b&&n===d?r.createElement(v.Box,{mr:"6px"},r.createElement(s(),{type:"button",onClick:function(){p(""),l&&y(l("")),a("")},variant:"clean"},r.createElement(j.default,{color:"gray"}))):b?r.createElement(v.Box,null,r.createElement(le,{size:24,onClick:x,color:"gray",hoverColor:"blue"},r.createElement(ae,{color:"white"}))):null))},re=(0,l.default)(q.default).withConfig({displayName:"TextInput___StyledInlineInput",componentId:"sc-psgvcu-0"})(["box-sizing:border-box;background-color:",";border-radius:8px;text-overflow:ellipsis;transition:background 0.2s ease-in;&::placeholder{color:",";}"],(function(e){return e.$_css}),(function(e){return e.$_css2})),oe=(0,l.default)(v.Box).withConfig({displayName:"TextInput___StyledBox",componentId:"sc-psgvcu-1"})(["transform:translateY(-50%);"]),le=(0,l.default)(J.default).withConfig({displayName:"TextInput___StyledRoundButton",componentId:"sc-psgvcu-2"})(["display:block;transform:rotate(-90deg);margin-right:0;"]),ae=(0,l.default)(E.default).withConfig({displayName:"TextInput___StyledTriangleIcon",componentId:"sc-psgvcu-3"})(["display:inline;"]),ie=n(1244),ce=n(1393);function ue(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,l=void 0;try{for(var a,i=e[Symbol.iterator]();!(r=(a=i.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,l=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw l}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return se(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var fe=function(e){var t,n=e.dropdownContainer,o=(0,r.useContext)(ie.b),l=o.model,a=o.modelSet,i=(0,r.useRef)(null),c=ue((0,r.useState)(Boolean(null===(t=l.block.model.get("stripe-allowed_countries"))||void 0===t?void 0:t.length)),2),u=(c[0],c[1]),s=ue((0,r.useState)(Boolean(l.block.model.get("stripe-allow_promotion_codes"))),2),d=s[0],p=s[1],m=ue((0,r.useState)((function(){return(e=l.block.model.get("stripe-shipping_rates"))&&Array.isArray(e)&&e[0]?e[0]:"";var e})),2),y=m[0],h=m[1];return r.createElement(r.Fragment,null,r.createElement(v.Box,{display:"flex",justifyContent:"space-between",alignItems:"center",mt:29,mb:11,px:"16px"},r.createElement(f.Text,{textStyle:"regular",color:"black"},"Stripe"),r.createElement(S.Z,{position:"relative",top:"2px",href:"https://help.readymag.com/hc/en-us/articles/360053970512#h_01F8T772CD3Q3ZVYY6ANA2WPV0"})),r.createElement(g.Z,{leftSlot:"Promo code",rightSlot:r.createElement(b(),{backgroundChecked:"blue",checked:d,onChange:function(){var e=!Boolean(l.block.model.get("stripe-allow_promotion_codes"));p(e),l.block.saveModelChanges({"stripe-allow_promotion_codes":e})}})}),r.createElement(H,{initialValue:l.block.model.get("stripe-allowed_countries"),labelText:"Available countries",container:n,containerForSelected:i.current,options:ce.h,onChange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.length?u(!0):u(!1),l.block.saveModelChanges({"stripe-allowed_countries":e})},onToggleDropDown:function(e){a({preventClose:e})}}),r.createElement(v.Box,{width:"100%",px:2,mt:"-1px",ref:i,borderTop:"1px solid",borderBottom:"1px solid",borderColor:"transparent"}),r.createElement(v.Box,{mb:"7px"},r.createElement(ne,{placeholder:"Shipping ID",value:y,validate:function(e){return Boolean(e)&&/shr_[\w\d]+/g.test(e)},onSubmit:function(e){h(e),l.block.saveModelChanges({"stripe-shipping_rates":[e]})}})))},de=n(1281),pe=n(1241),me=n(1288),be=n(1317),ye=n(1276),ge=n(625);function he(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,l=void 0;try{for(var a,i=e[Symbol.iterator]();!(r=(a=i.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,l=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw l}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ve(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Se=r.forwardRef((function(e,t){var n=e.style,o=e.panelPortalElement,l=e.currentFontFamily,a=(0,r.useContext)(ie.b),i=a.model,c=a.modelSet,u=(0,r.useMemo)((function(){return i.project.get("_id")}),[i]),s=(0,r.useMemo)((function(){return i.user.get("_id")}),[i]),f=(0,r.useMemo)((function(){return i.block.eCommerceManager.connectedProvider}),[i.block]),d=(0,r.useContext)(ye.p5).navigate,m=function(e){var t={};e.weight&&(t["bar-font-weight"]=e.weight),e.style&&(t["bar-font-style"]=e.style),Object.keys(t).length&&i.block.saveModelChanges(t)},v=he((0,r.useState)(i.block.model.get("bar-background-color")?(0,ge.vK)(i.block.model.get("bar-background-color"),(0,ge._X)(i.block.model.get("bar-background-color-opacity"))):null),2),S=v[0],x=v[1],w=function(e){var t=100*e.a,n=(0,p.omit)(e,"a"),r=(0,ge.Ge)(n);i.block.saveModelChangesDebounced({"bar-background-color":r,"bar-background-color-opacity":t})},k=he((0,r.useState)(Boolean(i.block.model.get("bar-shadow"))),2),C=k[0],E=k[1],_=function(e){E(e),i.block.saveModelChanges({"bar-shadow":e})},I=he((0,r.useState)(i.block.model.get("bar-color")?(0,ge.vK)(i.block.model.get("bar-color"),(0,ge._X)(i.block.model.get("bar-color-opacity"))):null),2),j=I[0],O=I[1],A=function(e){var t=100*e.a,n=(0,p.omit)(e,"a"),r=(0,ge.Ge)(n);i.block.saveModelChangesDebounced({"bar-color":r,"bar-color-opacity":t})},B=he((0,r.useState)(i.block.model.get("bar-font-size-factor")||1),2),M=B[0],P=B[1],T=function(e){P(e),i.block.saveModelChangesDebounced({"bar-font-size-factor":e})},F=he((0,r.useState)(i.block.model.get("bar-button-baseline")||0),2),D=F[0],$=F[1],N=function(e){$(e),i.block.saveModelChangesDebounced({"bar-button-baseline":e})},Z=he((0,r.useState)(i.block.model.get("bar-auto-open")),2),R=Z[0],U=Z[1],z=function(e){U(e),i.block.eCommerceManager.openSidebarOnAddItem=e,i.block.saveModelChanges({"bar-auto-open":e})},G=function(e){return c({preventClose:e})};return r.createElement(de.ZP,{ref:t,style:n,isShowed:!0,portalElement:o,maxHeight:"100vh - 66px",scrollable:!0},r.createElement(de.QP.Consumer,null,(function(e){var t=e.tooltipContainer,n=e.dropdownContainer;return r.createElement(r.Fragment,null,r.createElement(h.Z,{title:"Cart bar"}),r.createElement(pe.Z,{"aria-labelledby":"cart-bar-background-color",title:"Background",container:t,projectId:u,userId:s,color:S,setColor:x,onColorChange:w}),r.createElement(g.Z,{leftSlot:"Shadow",rightSlot:r.createElement(b(),{backgroundChecked:"blue",checked:C,onChange:_})}),r.createElement(me.jo,{fontFamily:l,onClick:function(){return d(Ee.FontsList)}}),r.createElement(be.Z,{fontFamily:l,fontWeight:i.block.model.get("bar-font-weight"),fontStyle:i.block.model.get("bar-font-style"),onChangeStyle:m,dropdownContainer:n,onToggleSelectPanel:G}),r.createElement(pe.Z,{"aria-labelledby":"cart-bar-text-color",title:"Text color",container:t,projectId:u,userId:s,color:j,setColor:O,onColorChange:A}),r.createElement(g.Z,{leftSlot:"Text scale",rightSlot:r.createElement(y.default,{min:1,max:1.3,step:.05,textAlign:"right",autoWidth:!0,value:M,onChange:T})}),r.createElement(g.Z,{leftSlot:"Button baseline",rightSlot:r.createElement(y.default,{textAlign:"right",min:-25,max:25,autoWidth:!0,value:D,onChange:N})}),r.createElement(g.Z,{leftSlot:"Auto-open",rightSlot:r.createElement(b(),{backgroundChecked:"blue",checked:R,onChange:z}),showBorder:"stripe"===f}),"stripe"===f&&r.createElement(fe,{dropdownContainer:n}))})))})),xe=n(1274),we=n(1292);function ke(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,l=void 0;try{for(var a,i=e[Symbol.iterator]();!(r=(a=i.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,l=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw l}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ce(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ee,_e=l.default.div.withConfig({displayName:"CartSidebar__PanelOverlay",componentId:"sc-xjv3wv-0"})(["position:fixed;top:0;left:0;right:0;bottom:0;background:transparent;opacity:0;z-index:4004;"]);!function(e){e.Main="Main",e.FontsList="FontsList"}(Ee||(Ee={}));var Ie=function(e){var t=e.panelPortalElement,n=(0,r.useContext)(ie.b).model,l=(0,r.useRef)(null),u=r.createElement(we.Z,{leftSlot:r.createElement(je,{"aria-labelledby":"text-typography-back",variant:"clean",onClick:function(){return l.current&&l.current.goBack()},$_css:(0,a.themeGet)("colors.black")},r.createElement(c.default,{color:"darkGray"}))}),s=ke((0,r.useState)(n.block.model.get("bar-font-family")),2),d=s[0],p=s[1],m=function(e){p(e.css_name),n.block.saveModelChanges({"bar-font-family":e.css_name})},b=ke((0,r.useState)(n.block.model.get("bar-color")),1)[0];return r.createElement(r.Fragment,null,r.createElement(xe.t,{placement:"bottom",control:function(e){var t=e.ref;return r.createElement(xe.Z,{ref:t,label:r.createElement(f.Text,{textStyle:"small",fontFamily:"-apple-system, system-ui, BlinkMacSystemFont, 'Segoe UI', Ubuntu, 'Fira Sans', Roboto, 'Avenir Next', 'Helvetica Neue', Helvetica, Arial, sans-serif"},"Settings"),size:31,withButton:!1,onClick:function(e){e.preventDefault(),n.disabled||(n.selected?n.deselect():n.select())}},r.createElement(i.default,{className:"settings-toggle",width:31,height:28,color:b,cursor:"pointer"}))},panel:function(e){var o=e.ref,a=e.style;return n.selected?r.createElement(ye.ZP,{ref:l,childRef:o,initialScreen:Ee.Main},r.createElement(Se,{key:Ee.Main,ref:o,style:a,panelPortalElement:t,currentFontFamily:d}),r.createElement(me.ZP,{key:Ee.FontsList,style:a,headerSlot:u,currentFontFamily:d,panelPortalElement:t,onFontSelect:m,hideUpload:!0})):null}}),n.selected&&o.createPortal(r.createElement(_e,{onClick:function(e){n.preventClose||n.deselect()}}),document.body))},je=(0,l.default)(s()).withConfig({displayName:"CartSidebar___StyledButton",componentId:"sc-xjv3wv-1"})(["&:hover svg{color:",";opacity:1;}"],(function(e){return e.$_css}))}}]);